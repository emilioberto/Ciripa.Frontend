<app-hbf-template class="h-100" [overflowScroll]="true">

  <div header class="p-5 pb-0 h-100 text-center">
    <h2 class="mb-0 text-primary">Resoconto fatture annuale</h2>
    <div class="header-container">
      <dx-date-box type="date" (onValueChanged)="onDateChanged($event)" [disabled]="isLoading"
        displayFormat="year" [calendarOptions]="calendarOptions" [value]="selectedDate">
      </dx-date-box>
    </div>
  </div>

  <div body *ngIf="!isLoading; else loader;" class="p-5 h-100">
    <div class="container h-100">
      <dx-data-grid class="h-100" [dataSource]="invoices" [showBorders]="true" [rowAlternationEnabled]="true">
        <dxo-editing [allowUpdating]="true" mode="cell"></dxo-editing>
        <dxo-export [enabled]="true" [fileName]="fileName"></dxo-export>

        <dxi-column caption="Genitore">
          <dxi-column caption="Nome" dataField="billingParent.firstName" dataType="string" [allowEditing]="false"></dxi-column>
          <dxi-column caption="Cognome" dataField="billingParent.lastName" dataType="string" [allowEditing]="false"></dxi-column>
        </dxi-column>
        <dxi-column caption="Totale" dataField="amount" dataType="number">
        </dxi-column>
      </dx-data-grid>
    </div>
  </div>

</app-hbf-template>

<ng-template #loader>
  <div body class="p-5 h-100">
    <app-loader></app-loader>
  </div>
</ng-template>
